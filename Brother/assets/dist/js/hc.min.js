var animatedHeader=function(){function t(){window.addEventListener("scroll",function(){r||(r=!0,setTimeout(e,250))},!1)}function e(){var t=i();t>=s?classie.add(n,"navbar-pinned"):classie.remove(n,"navbar-pinned"),r=!1}function i(){return window.pageYOffset||o.scrollTop}var o=document.documentElement,n=document.querySelector(".navbar"),r=!1,s=68;t()}();!function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e){var i=o(t,e)?r:n;i(t,e)}var o,n,r;"classList"in document.documentElement?(o=function(t,e){return t.classList.contains(e)},n=function(t,e){t.classList.add(e)},r=function(t,e){t.classList.remove(e)}):(o=function(t,i){return e(i).test(t.className)},n=function(t,e){o(t,e)||(t.className=t.className+" "+e)},r=function(t,i){t.className=t.className.replace(e(i)," ")});var s={hasClass:o,addClass:n,removeClass:r,toggleClass:i,has:o,add:n,remove:r,toggle:i};"function"==typeof define&&define.amd?define(s):"object"==typeof exports?module.exports=s:t.classie=s}(window),function(){function t(){var t=$("#benefits-tiles"),e=$("#benefits-tiles li"),i=$("#benefits-tiles small.tile-description");activeTile=$("#benefits-tiles li.active"),activeText=$("#benefits-tiles li.active small.tile-description"),activeTileHeight=activeTile.outerHeight(!0),activeTextWidth=activeText.width(),t.height(activeTileHeight),i.width(activeTextWidth),e.hover(function(){e.addClass("inactive"),e.removeClass("active"),$(this).addClass("active")},function(){})}$(document).ready(function(){t()})}(),jQuery(function(t){navigator.userAgent.indexOf("MSIE")<0&&console.log("^_^ 想加入笔戈科技开发团队？请发送邮件到 liuxing@meizu.com"),t("img.lazy")&&t("img.lazy").length>0&&t("img.lazy").lazyload({effect:"fadeIn"}),t(document).ready(function(){var e=t(".qrcode");t(".icon-wechat").hover(function(){var i=t(this).position();e.css("left",(t(window).width()-e.width())/2),e.css("top",i.top-270),e.fadeIn().show()},function(){e.hide()})})}),!function(t,e,i,o){var n=t(e);t.fn.lazyload=function(r){function s(){var e=0;a.each(function(){var i=t(this);if(!c.skip_invisible||i.is(":visible"))if(t.abovethetop(this,c)||t.leftofbegin(this,c));else if(t.belowthefold(this,c)||t.rightoffold(this,c)){if(++e>c.failure_limit)return!1}else i.trigger("appear"),e=0})}var l,a=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(o!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),o!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),t.extend(c,r)),l=c.container===o||c.container===e?n:t(c.container),0===c.event.indexOf("scroll")&&l.bind(c.event,function(){return s()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,(i.attr("src")===o||i.attr("src")===!1)&&i.is("img")&&i.attr("src",c.placeholder),i.one("appear",function(){if(!this.loaded){if(c.appear){var o=a.length;c.appear.call(e,o,c)}t("<img />").bind("load",function(){var o=i.attr("data-"+c.data_attribute);i.hide(),i.is("img")?i.attr("src",o):i.css("background-image","url('"+o+"')"),i[c.effect](c.effect_speed),e.loaded=!0;var n=t.grep(a,function(t){return!t.loaded});if(a=t(n),c.load){var r=a.length;c.load.call(e,r,c)}}).attr("src",i.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&i.bind(c.event,function(){e.loaded||i.trigger("appear")})}),n.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&n.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&a.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){s()}),this},t.belowthefold=function(i,r){var s;return s=r.container===o||r.container===e?(e.innerHeight?e.innerHeight:n.height())+n.scrollTop():t(r.container).offset().top+t(r.container).height(),s<=t(i).offset().top-r.threshold},t.rightoffold=function(i,r){var s;return s=r.container===o||r.container===e?n.width()+n.scrollLeft():t(r.container).offset().left+t(r.container).width(),s<=t(i).offset().left-r.threshold},t.abovethetop=function(i,r){var s;return s=r.container===o||r.container===e?n.scrollTop():t(r.container).offset().top,s>=t(i).offset().top+r.threshold+t(i).height()},t.leftofbegin=function(i,r){var s;return s=r.container===o||r.container===e?n.scrollLeft():t(r.container).offset().left,s>=t(i).offset().left+r.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document);var scrolltotop={setting:{startline:100,scrollto:0,scrollduration:1e3,fadeduration:[500,100]},controlHTML:"<div id='toTop' class='icon-up'></div>",controlattrs:{offsetx:5,offsety:5},anchorkeyword:"#top",state:{isvisible:!1,shouldvisible:!1},scrollup:function(){this.cssfixedsupport||this.$control.css({opacity:0});var t=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);t="string"==typeof t&&1==jQuery("#"+t).length?jQuery("#"+t).offset().top:0,this.$body.animate({scrollTop:t},this.setting.scrollduration)},keepfixed:function(){var t=jQuery(window),e=t.scrollLeft()+t.width()-this.$control.width()-this.controlattrs.offsetx,i=t.scrollTop()+t.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:e+"px",top:i+"px"})},togglecontrol:function(){var t=jQuery(window).scrollTop();this.cssfixedsupport||this.keepfixed(),this.state.shouldvisible=t>=this.setting.startline?!0:!1,this.state.shouldvisible&&!this.state.isvisible?(this.$control.stop().animate({opacity:1},this.setting.fadeduration[0]),this.state.isvisible=!0):0==this.state.shouldvisible&&this.state.isvisible&&(this.$control.stop().animate({opacity:0},this.setting.fadeduration[1]),this.state.isvisible=!1)},init:function(){jQuery(document).ready(function(t){var e=scrolltotop,i=document.all;e.cssfixedsupport=!i||i&&"CSS1Compat"==document.compatMode&&window.XMLHttpRequest,e.$body=window.opera?"CSS1Compat"==document.compatMode?t("html"):t("body"):t("html,body"),e.$control=t('<div id="topcontrol">'+e.controlHTML+"</div>").css({position:e.cssfixedsupport?"fixed":"absolute",bottom:e.controlattrs.offsety,right:e.controlattrs.offsetx,opacity:0,cursor:"pointer"}).attr({title:"Scroll to Top"}).click(function(){return e.scrollup(),!1}).appendTo("body"),document.all&&!window.XMLHttpRequest&&""!=e.$control.text()&&e.$control.css({width:e.$control.width()}),e.togglecontrol(),t('a[href="'+e.anchorkeyword+'"]').click(function(){return e.scrollup(),!1}),t(window).bind("scroll resize",function(){e.togglecontrol()})})}};scrolltotop.init();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGVkSGVhZGVyLmpzIiwiY2xhc3NpZS5qcyIsImhvdmVyVGlsZXMuanMiLCJpbmRleC5qcyIsImpxdWVyeS5sYXp5bG9hZC5taW4uanMiLCJyZXR1cm5Ub3AuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBVUEsR0FBQSxnQkFBQSxXQU9BLFFBQUEsS0FDQSxPQUFBLGlCQUFBLFNBQUEsV0FDQSxJQUNBLEdBQUEsRUFDQSxXQUFBLEVBQUEsUUFFQSxHQUdBLFFBQUEsS0FDQSxHQUFBLEdBQUEsR0FDQSxJQUFBLEVBQ0EsUUFBQSxJQUFBLEVBQUEsaUJBR0EsUUFBQSxPQUFBLEVBQUEsaUJBR0EsR0FBQSxFQUdBLFFBQUEsS0FDQSxNQUFBLFFBQUEsYUFBQSxFQUFBLFVBM0JBLEdBQUEsR0FBQSxTQUFBLGdCQUNBLEVBQUEsU0FBQSxjQUFBLFdBQ0EsR0FBQSxFQUNBLEVBQUEsRUEyQkEsU0MzQkEsU0FBQSxHQUVBLFlBSUEsU0FBQSxHQUFBLEdBQ0EsTUFBQSxJQUFBLFFBQUEsV0FBQSxFQUFBLFlBZ0NBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsQ0FDQSxHQUFBLEVBQUEsR0E3QkEsR0FBQSxHQUFBLEVBQUEsQ0FFQSxjQUFBLFVBQUEsaUJBQ0EsRUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsVUFBQSxTQUFBLElBRUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFVBQUEsSUFBQSxJQUVBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxVQUFBLE9BQUEsTUFJQSxFQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxZQUVBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxVQUFBLEVBQUEsVUFBQSxJQUFBLElBR0EsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxHQUFBLE1BU0EsSUFBQSxJQUVBLFNBQUEsRUFDQSxTQUFBLEVBQ0EsWUFBQSxFQUNBLFlBQUEsRUFFQSxJQUFBLEVBQ0EsSUFBQSxFQUNBLE9BQUEsRUFDQSxPQUFBLEVBSUEsbUJBQUEsU0FBQSxPQUFBLElBRUEsT0FBQSxHQUNBLGdCQUFBLFNBRUEsT0FBQSxRQUFBLEVBR0EsRUFBQSxRQUFBLEdBR0EsUUNwRkEsV0FDQSxRQUFBLEtBQ0EsR0FDQSxHQUFBLEVBQUEsbUJBQ0EsRUFBQSxFQUFBLHNCQUNBLEVBQUEsRUFBQSx5Q0FDQSxZQUFBLEVBQUEsNkJBQ0EsV0FBQSxFQUFBLG9EQUNBLGlCQUFBLFdBQUEsYUFBQSxHQUNBLGdCQUFBLFdBQUEsUUFFQSxFQUFBLE9BQUEsa0JBQ0EsRUFBQSxNQUFBLGlCQUVBLEVBQUEsTUFBQSxXQUNBLEVBQUEsU0FBQSxZQUNBLEVBQUEsWUFBQSxVQUNBLEVBQUEsTUFBQSxTQUFBLFdBQ0EsY0FNQSxFQUFBLFVBQUEsTUFBQSxXQUNBLFNDekJBLE9BQUEsU0FBQSxHQUNBLFVBQUEsVUFBQSxRQUFBLFFBQUEsR0FFQSxRQUFBLElBQUEsNENBR0EsRUFBQSxhQUFBLEVBQUEsWUFBQSxPQUFBLEdBQ0EsRUFBQSxZQUFBLFVBQUEsT0FBQSxXQUVBLEVBQUEsVUFBQSxNQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFDQSxHQUFBLGdCQUFBLE1BQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLFVBQ0EsR0FBQSxJQUFBLFFBQUEsRUFBQSxRQUFBLFFBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLEtBQ0EsRUFBQSxTQUFBLFFBQ0EsV0FDQSxFQUFBLGNDaEJBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxTQUFBLFNBQUEsR0FBQSxRQUFBLEtBQUEsR0FBQSxHQUFBLENBQUEsR0FBQSxLQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsZ0JBQUEsRUFBQSxHQUFBLFlBQUEsR0FBQSxFQUFBLFlBQUEsS0FBQSxJQUFBLEVBQUEsWUFBQSxLQUFBLFFBQUEsSUFBQSxFQUFBLGFBQUEsS0FBQSxJQUFBLEVBQUEsWUFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsY0FBQSxPQUFBLE1BQUEsR0FBQSxRQUFBLFVBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxVQUFBLEVBQUEsY0FBQSxFQUFBLE1BQUEsU0FBQSxPQUFBLE9BQUEsVUFBQSxFQUFBLGVBQUEsV0FBQSxnQkFBQSxFQUFBLE9BQUEsS0FBQSxLQUFBLEtBQUEsWUFBQSx5TEFBQSxPQUFBLEtBQUEsSUFBQSxFQUFBLGVBQUEsRUFBQSxjQUFBLEVBQUEsbUJBQUEsR0FBQSxjQUFBLElBQUEsRUFBQSxjQUFBLEVBQUEsYUFBQSxFQUFBLGtCQUFBLEdBQUEsYUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxZQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxJQUFBLEVBQUEsTUFBQSxRQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxXQUFBLE1BQUEsT0FBQSxLQUFBLEtBQUEsV0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEtBQUEsU0FBQSxHQUFBLEVBQUEsS0FBQSxVQUFBLElBQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxhQUFBLEVBQUEsSUFBQSxTQUFBLFdBQUEsSUFBQSxLQUFBLE9BQUEsQ0FBQSxHQUFBLEVBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxPQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLEtBQUEsT0FBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsUUFBQSxFQUFBLGVBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsS0FBQSxNQUFBLEdBQUEsRUFBQSxJQUFBLG1CQUFBLFFBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsY0FBQSxFQUFBLFFBQUEsQ0FBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxHQUFBLE9BQUEsRUFBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsTUFBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLFFBQUEsRUFBQSxvQkFBQSxJQUFBLEVBQUEsTUFBQSxRQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxXQUFBLEVBQUEsUUFBQSxFQUFBLFFBQUEsY0FBQSxFQUFBLEtBQUEsU0FBQSxXQUFBLE1BQUEsK0JBQUEsS0FBQSxVQUFBLGFBQUEsRUFBQSxLQUFBLFdBQUEsU0FBQSxHQUFBLEVBQUEsZUFBQSxFQUFBLGNBQUEsV0FBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLE1BQUEsUUFBQSxjQUFBLEVBQUEsR0FBQSxNQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsYUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsWUFBQSxHQUFBLEVBQUEsWUFBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsV0FBQSxTQUFBLElBQUEsRUFBQSxFQUFBLFdBQUEsU0FBQSxHQUFBLEVBQUEsR0FBQSxTQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsWUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsWUFBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLGFBQUEsRUFBQSxFQUFBLFdBQUEsU0FBQSxLQUFBLEVBQUEsRUFBQSxXQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsU0FBQSxLQUFBLEVBQUEsV0FBQSxFQUFBLFlBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLFlBQUEsR0FBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLFdBQUEsU0FBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLFNBQUEsSUFBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxZQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxZQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxXQUFBLFNBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxTQUFBLEtBQUEsRUFBQSxVQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsWUFBQSxFQUFBLElBQUEsRUFBQSxZQUFBLEVBQUEsSUFBQSxFQUFBLGFBQUEsRUFBQSxJQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxNQUFBLGlCQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsYUFBQSxHQUFBLFVBQUEsS0FBQSxnQkFBQSxTQUFBLEdBQUEsT0FBQSxFQUFBLGFBQUEsR0FBQSxVQUFBLEtBQUEsa0JBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxZQUFBLEdBQUEsVUFBQSxLQUFBLGlCQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsWUFBQSxHQUFBLFVBQUEsS0FBQSxjQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsV0FBQSxHQUFBLFVBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQUEsT0FBQSxFQUFBLGFBQUEsR0FBQSxVQUFBLEtBQUEsZ0JBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxZQUFBLEdBQUEsVUFBQSxLQUFBLGVBQUEsU0FBQSxHQUFBLE9BQUEsRUFBQSxZQUFBLEdBQUEsVUFBQSxRQUFBLE9BQUEsT0FBQSxTQ0RBLElBQUEsY0FNQSxTQUFBLFVBQUEsSUFBQSxTQUFBLEVBQUEsZUFBQSxJQUFBLGNBQUEsSUFBQSxNQUVBLFlBQUEseUNBRUEsY0FBQSxRQUFBLEVBQUEsUUFBQSxHQUVBLGNBQUEsT0FFQSxPQUFBLFdBQUEsRUFBQSxlQUFBLEdBR0EsU0FBQSxXQUVBLEtBQUEsaUJBRUEsS0FBQSxTQUFBLEtBQUEsUUFBQSxHQUVBLElBQUEsR0FBQSxNQUFBLEtBQUEsUUFBQSxVQUFBLEtBQUEsUUFBQSxTQUFBLFNBQUEsS0FBQSxRQUFBLFNBSUEsR0FGQSxnQkFBQSxJQUFBLEdBQUEsT0FBQSxJQUFBLEdBQUEsT0FFQSxPQUFBLElBQUEsR0FBQSxTQUFBLElBSUEsRUFFQSxLQUFBLE1BQUEsU0FBQSxVQUFBLEdBQUEsS0FBQSxRQUFBLGlCQUtBLFVBQUEsV0FFQSxHQUFBLEdBQUEsT0FBQSxRQUVBLEVBQUEsRUFBQSxhQUFBLEVBQUEsUUFBQSxLQUFBLFNBQUEsUUFBQSxLQUFBLGFBQUEsUUFFQSxFQUFBLEVBQUEsWUFBQSxFQUFBLFNBQUEsS0FBQSxTQUFBLFNBQUEsS0FBQSxhQUFBLE9BRUEsTUFBQSxTQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLFFBS0EsY0FBQSxXQUlBLEdBQUEsR0FBQSxPQUFBLFFBQUEsV0FFQSxNQUFBLGlCQUVBLEtBQUEsWUFFQSxLQUFBLE1BQUEsY0FBQSxHQUFBLEtBQUEsUUFBQSxXQUFBLEdBQUEsRUFFQSxLQUFBLE1BQUEsZ0JBQUEsS0FBQSxNQUFBLFdBRUEsS0FBQSxTQUFBLE9BQUEsU0FBQSxRQUFBLEdBQUEsS0FBQSxRQUFBLGFBQUEsSUFFQSxLQUFBLE1BQUEsV0FBQSxHQUlBLEdBQUEsS0FBQSxNQUFBLGVBQUEsS0FBQSxNQUFBLFlBRUEsS0FBQSxTQUFBLE9BQUEsU0FBQSxRQUFBLEdBQUEsS0FBQSxRQUFBLGFBQUEsSUFFQSxLQUFBLE1BQUEsV0FBQSxJQUtBLEtBQUEsV0FDQSxPQUFBLFVBQUEsTUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLFlBQ0EsRUFBQSxTQUFBLEdBQ0EsR0FBQSxpQkFBQSxHQUFBLEdBQUEsY0FBQSxTQUFBLFlBQUEsT0FBQSxlQUNBLEVBQUEsTUFBQSxPQUFBLE1BQUEsY0FBQSxTQUFBLFdBQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLGFBQ0EsRUFBQSxTQUFBLEVBQUEsd0JBQUEsRUFBQSxZQUFBLFVBQ0EsS0FBQSxTQUFBLEVBQUEsZ0JBQUEsUUFBQSxXQUFBLE9BQUEsRUFBQSxhQUFBLFFBQUEsTUFBQSxFQUFBLGFBQUEsUUFBQSxRQUFBLEVBQUEsT0FBQSxZQUNBLE1BQUEsTUFBQSxrQkFDQSxNQUFBLFdBQUEsTUFBQSxHQUFBLFlBQUEsSUFDQSxTQUFBLFFBQ0EsU0FBQSxNQUFBLE9BQUEsZ0JBQUEsSUFBQSxFQUFBLFNBQUEsUUFDQSxFQUFBLFNBQUEsS0FBQSxNQUFBLEVBQUEsU0FBQSxVQUNBLEVBQUEsZ0JBRUEsRUFBQSxXQUFBLEVBQUEsY0FBQSxNQUFBLE1BQUEsV0FFQSxNQURBLEdBQUEsWUFDQSxJQUVBLEVBQUEsUUFBQSxLQUFBLGdCQUFBLFdBQ0EsRUFBQSxxQkFLQSxhQUFBIiwiZmlsZSI6ImhjLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogY2JwQW5pbWF0ZWRIZWFkZXIuanMgdjEuMC4wXG4gKiBodHRwOi8vd3d3LmNvZHJvcHMuY29tXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMywgQ29kcm9wc1xuICogaHR0cDovL3d3dy5jb2Ryb3BzLmNvbVxuICovXG52YXIgYW5pbWF0ZWRIZWFkZXIgPSAoZnVuY3Rpb24oKSB7XG5cblx0dmFyIGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG5cdFx0bmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5uYXZiYXInICksXG5cdFx0ZGlkU2Nyb2xsID0gZmFsc2UsXG5cdFx0Y2hhbmdlSGVhZGVyT24gPSA2ODtcblxuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0aWYoICFkaWRTY3JvbGwgKSB7XG5cdFx0XHRcdGRpZFNjcm9sbCA9IHRydWU7XG5cdFx0XHRcdHNldFRpbWVvdXQoIHNjcm9sbFBhZ2UsIDI1MCApO1xuXHRcdFx0fVxuXHRcdH0sIGZhbHNlICk7XG5cdH1cblxuXHRmdW5jdGlvbiBzY3JvbGxQYWdlKCkge1xuXHRcdHZhciBzeSA9IHNjcm9sbFkoKTtcblx0XHRpZiAoIHN5ID49IGNoYW5nZUhlYWRlck9uICkge1xuXHRcdFx0Y2xhc3NpZS5hZGQoIG5hdmJhciwgJ25hdmJhci1waW5uZWQnICk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y2xhc3NpZS5yZW1vdmUoIG5hdmJhciwgJ25hdmJhci1waW5uZWQnICk7XG5cdFx0fVxuXG5cdFx0ZGlkU2Nyb2xsID0gZmFsc2U7XG5cdH1cblxuXHRmdW5jdGlvbiBzY3JvbGxZKCkge1xuXHRcdHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jRWxlbS5zY3JvbGxUb3A7XG5cdH1cblxuXHRpbml0KCk7XG5cbn0pKCk7XG4iLCIvKiFcclxuICogY2xhc3NpZSB2MS4wLjFcclxuICogY2xhc3MgaGVscGVyIGZ1bmN0aW9uc1xyXG4gKiBmcm9tIGJvbnpvIGh0dHBzOi8vZ2l0aHViLmNvbS9kZWQvYm9uem9cclxuICogTUlUIGxpY2Vuc2VcclxuICpcclxuICogY2xhc3NpZS5oYXMoIGVsZW0sICdteS1jbGFzcycgKSAtPiB0cnVlL2ZhbHNlXHJcbiAqIGNsYXNzaWUuYWRkKCBlbGVtLCAnbXktbmV3LWNsYXNzJyApXHJcbiAqIGNsYXNzaWUucmVtb3ZlKCBlbGVtLCAnbXktdW53YW50ZWQtY2xhc3MnIClcclxuICogY2xhc3NpZS50b2dnbGUoIGVsZW0sICdteS1jbGFzcycgKVxyXG4gKi9cclxuXHJcbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSAqL1xyXG4vKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBtb2R1bGU6IGZhbHNlICovXHJcblxyXG4oIGZ1bmN0aW9uKCB3aW5kb3cgKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbi8vIGNsYXNzIGhlbHBlciBmdW5jdGlvbnMgZnJvbSBib256byBodHRwczovL2dpdGh1Yi5jb20vZGVkL2JvbnpvXHJcblxyXG4gIGZ1bmN0aW9uIGNsYXNzUmVnKCBjbGFzc05hbWUgKSB7XHJcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChcIihefFxcXFxzKylcIiArIGNsYXNzTmFtZSArIFwiKFxcXFxzK3wkKVwiKTtcclxuICB9XHJcblxyXG4vLyBjbGFzc0xpc3Qgc3VwcG9ydCBmb3IgY2xhc3MgbWFuYWdlbWVudFxyXG4vLyBhbHRobyB0byBiZSBmYWlyLCB0aGUgYXBpIHN1Y2tzIGJlY2F1c2UgaXQgd29uJ3QgYWNjZXB0IG11bHRpcGxlIGNsYXNzZXMgYXQgb25jZVxyXG4gIHZhciBoYXNDbGFzcywgYWRkQ2xhc3MsIHJlbW92ZUNsYXNzO1xyXG5cclxuICBpZiAoICdjbGFzc0xpc3QnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCApIHtcclxuICAgIGhhc0NsYXNzID0gZnVuY3Rpb24oIGVsZW0sIGMgKSB7XHJcbiAgICAgIHJldHVybiBlbGVtLmNsYXNzTGlzdC5jb250YWlucyggYyApO1xyXG4gICAgfTtcclxuICAgIGFkZENsYXNzID0gZnVuY3Rpb24oIGVsZW0sIGMgKSB7XHJcbiAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCggYyApO1xyXG4gICAgfTtcclxuICAgIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24oIGVsZW0sIGMgKSB7XHJcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSggYyApO1xyXG4gICAgfTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBoYXNDbGFzcyA9IGZ1bmN0aW9uKCBlbGVtLCBjICkge1xyXG4gICAgICByZXR1cm4gY2xhc3NSZWcoIGMgKS50ZXN0KCBlbGVtLmNsYXNzTmFtZSApO1xyXG4gICAgfTtcclxuICAgIGFkZENsYXNzID0gZnVuY3Rpb24oIGVsZW0sIGMgKSB7XHJcbiAgICAgIGlmICggIWhhc0NsYXNzKCBlbGVtLCBjICkgKSB7XHJcbiAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBlbGVtLmNsYXNzTmFtZSArICcgJyArIGM7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKCBlbGVtLCBjICkge1xyXG4gICAgICBlbGVtLmNsYXNzTmFtZSA9IGVsZW0uY2xhc3NOYW1lLnJlcGxhY2UoIGNsYXNzUmVnKCBjICksICcgJyApO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRvZ2dsZUNsYXNzKCBlbGVtLCBjICkge1xyXG4gICAgdmFyIGZuID0gaGFzQ2xhc3MoIGVsZW0sIGMgKSA/IHJlbW92ZUNsYXNzIDogYWRkQ2xhc3M7XHJcbiAgICBmbiggZWxlbSwgYyApO1xyXG4gIH1cclxuXHJcbiAgdmFyIGNsYXNzaWUgPSB7XHJcbiAgICAvLyBmdWxsIG5hbWVzXHJcbiAgICBoYXNDbGFzczogaGFzQ2xhc3MsXHJcbiAgICBhZGRDbGFzczogYWRkQ2xhc3MsXHJcbiAgICByZW1vdmVDbGFzczogcmVtb3ZlQ2xhc3MsXHJcbiAgICB0b2dnbGVDbGFzczogdG9nZ2xlQ2xhc3MsXHJcbiAgICAvLyBzaG9ydCBuYW1lc1xyXG4gICAgaGFzOiBoYXNDbGFzcyxcclxuICAgIGFkZDogYWRkQ2xhc3MsXHJcbiAgICByZW1vdmU6IHJlbW92ZUNsYXNzLFxyXG4gICAgdG9nZ2xlOiB0b2dnbGVDbGFzc1xyXG4gIH07XHJcblxyXG4vLyB0cmFuc3BvcnRcclxuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcclxuICAgIC8vIEFNRFxyXG4gICAgZGVmaW5lKCBjbGFzc2llICk7XHJcbiAgfSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkge1xyXG4gICAgLy8gQ29tbW9uSlNcclxuICAgIG1vZHVsZS5leHBvcnRzID0gY2xhc3NpZTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gYnJvd3NlciBnbG9iYWxcclxuICAgIHdpbmRvdy5jbGFzc2llID0gY2xhc3NpZTtcclxuICB9XHJcblxyXG59KSggd2luZG93ICk7IiwiKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBob3ZlclRpbGVzKCkge1xuICAgIHZhclxuICAgICAgdGlsZXMgICAgICAgICAgICAgID0gJCgnI2JlbmVmaXRzLXRpbGVzJyksXG4gICAgICB0aWxlICAgICAgICAgICAgICAgPSAkKCcjYmVuZWZpdHMtdGlsZXMgbGknKSxcbiAgICAgIHRleHQgICAgICAgICAgICAgICA9ICQoJyNiZW5lZml0cy10aWxlcyBzbWFsbC50aWxlLWRlc2NyaXB0aW9uJylcbiAgICAgIGFjdGl2ZVRpbGUgICAgICAgICA9ICQoJyNiZW5lZml0cy10aWxlcyBsaS5hY3RpdmUnKSxcbiAgICAgIGFjdGl2ZVRleHQgICAgICAgICA9ICQoJyNiZW5lZml0cy10aWxlcyBsaS5hY3RpdmUgc21hbGwudGlsZS1kZXNjcmlwdGlvbicpLFxuICAgICAgYWN0aXZlVGlsZUhlaWdodCAgID0gYWN0aXZlVGlsZS5vdXRlckhlaWdodCh0cnVlKSxcbiAgICAgIGFjdGl2ZVRleHRXaWR0aCAgICA9IGFjdGl2ZVRleHQud2lkdGgoKTtcblxuICAgICAgdGlsZXMuaGVpZ2h0KGFjdGl2ZVRpbGVIZWlnaHQpO1xuICAgICAgdGV4dC53aWR0aChhY3RpdmVUZXh0V2lkdGgpO1xuXG4gICAgICB0aWxlLmhvdmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICB0aWxlLmFkZENsYXNzKCdpbmFjdGl2ZScpO1xuICAgICAgICB0aWxlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAvL3RpbGUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAvL3RpbGUucmVtb3ZlQ2xhc3MoJ2luYWN0aXZlJyk7XG4gICAgICB9KVxuICB9XG5cbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgaG92ZXJUaWxlcygpO1xuICB9KVxuXG59KSgpO1xuIiwialF1ZXJ5KGZ1bmN0aW9uKCQpIHtcbiAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUVcIikgPCAwKSB7XG4gICAgICAvL0lFOCDkuI3mlK/mjIFjb25zb2xlXG4gICAgICBjb25zb2xlLmxvZyhcIl5fXiDmg7PliqDlhaXnrJTmiIjnp5HmioDlvIDlj5Hlm6LpmJ/vvJ/or7flj5HpgIHpgq7ku7bliLAgbGl1eGluZ0BtZWl6dS5jb21cIik7XG4gIH1cblxuICBpZigkKFwiaW1nLmxhenlcIikgJiYgJChcImltZy5sYXp5XCIpLmxlbmd0aCA+IDApXG4gICAgJChcImltZy5sYXp5XCIpLmxhenlsb2FkKHtlZmZlY3Q6IFwiZmFkZUluXCJ9KTtcblxuICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcXJjb2RlID0gJChcIi5xcmNvZGVcIik7XG4gICAgICAkKFwiLmljb24td2VjaGF0XCIpLmhvdmVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgdmFyIHBvcyA9ICQodGhpcykucG9zaXRpb24oKTtcbiAgICAgICAgICBxcmNvZGUuY3NzKFwibGVmdFwiLCAoJCh3aW5kb3cpLndpZHRoKCktcXJjb2RlLndpZHRoKCkpLzIpO1xuICAgICAgICAgIHFyY29kZS5jc3MoXCJ0b3BcIiwgcG9zLnRvcC0yNzApO1xuICAgICAgICAgIHFyY29kZS5mYWRlSW4oKS5zaG93KCk7XG4gICAgICB9LGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcXJjb2RlLmhpZGUoKTtcbiAgICAgIH0pO1xuICB9KTtcbn0pO1xuIiwiLyohIExhenkgTG9hZCAxLjkuMyAtIE1JVCBsaWNlbnNlIC0gQ29weXJpZ2h0IDIwMTAtMjAxMyBNaWthIFR1dXBvbGEgKi9cbiFmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hKGIpO2EuZm4ubGF6eWxvYWQ9ZnVuY3Rpb24oZil7ZnVuY3Rpb24gZygpe3ZhciBiPTA7aS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtpZighai5za2lwX2ludmlzaWJsZXx8Yy5pcyhcIjp2aXNpYmxlXCIpKWlmKGEuYWJvdmV0aGV0b3AodGhpcyxqKXx8YS5sZWZ0b2ZiZWdpbih0aGlzLGopKTtlbHNlIGlmKGEuYmVsb3d0aGVmb2xkKHRoaXMsail8fGEucmlnaHRvZmZvbGQodGhpcyxqKSl7aWYoKytiPmouZmFpbHVyZV9saW1pdClyZXR1cm4hMX1lbHNlIGMudHJpZ2dlcihcImFwcGVhclwiKSxiPTB9KX12YXIgaCxpPXRoaXMsaj17dGhyZXNob2xkOjAsZmFpbHVyZV9saW1pdDowLGV2ZW50Olwic2Nyb2xsXCIsZWZmZWN0Olwic2hvd1wiLGNvbnRhaW5lcjpiLGRhdGFfYXR0cmlidXRlOlwib3JpZ2luYWxcIixza2lwX2ludmlzaWJsZTohMCxhcHBlYXI6bnVsbCxsb2FkOm51bGwscGxhY2Vob2xkZXI6XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNRQUFBN0VBWlVyRGhzQUFBQU5TVVJCVkJoWFl6aDgrUEIvQUFmZkEwbk5QdUNMQUFBQUFFbEZUa1N1UW1DQ1wifTtyZXR1cm4gZiYmKGQhPT1mLmZhaWx1cmVsaW1pdCYmKGYuZmFpbHVyZV9saW1pdD1mLmZhaWx1cmVsaW1pdCxkZWxldGUgZi5mYWlsdXJlbGltaXQpLGQhPT1mLmVmZmVjdHNwZWVkJiYoZi5lZmZlY3Rfc3BlZWQ9Zi5lZmZlY3RzcGVlZCxkZWxldGUgZi5lZmZlY3RzcGVlZCksYS5leHRlbmQoaixmKSksaD1qLmNvbnRhaW5lcj09PWR8fGouY29udGFpbmVyPT09Yj9lOmEoai5jb250YWluZXIpLDA9PT1qLmV2ZW50LmluZGV4T2YoXCJzY3JvbGxcIikmJmguYmluZChqLmV2ZW50LGZ1bmN0aW9uKCl7cmV0dXJuIGcoKX0pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpO2IubG9hZGVkPSExLChjLmF0dHIoXCJzcmNcIik9PT1kfHxjLmF0dHIoXCJzcmNcIik9PT0hMSkmJmMuaXMoXCJpbWdcIikmJmMuYXR0cihcInNyY1wiLGoucGxhY2Vob2xkZXIpLGMub25lKFwiYXBwZWFyXCIsZnVuY3Rpb24oKXtpZighdGhpcy5sb2FkZWQpe2lmKGouYXBwZWFyKXt2YXIgZD1pLmxlbmd0aDtqLmFwcGVhci5jYWxsKGIsZCxqKX1hKFwiPGltZyAvPlwiKS5iaW5kKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGQ9Yy5hdHRyKFwiZGF0YS1cIitqLmRhdGFfYXR0cmlidXRlKTtjLmhpZGUoKSxjLmlzKFwiaW1nXCIpP2MuYXR0cihcInNyY1wiLGQpOmMuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLFwidXJsKCdcIitkK1wiJylcIiksY1tqLmVmZmVjdF0oai5lZmZlY3Rfc3BlZWQpLGIubG9hZGVkPSEwO3ZhciBlPWEuZ3JlcChpLGZ1bmN0aW9uKGEpe3JldHVybiFhLmxvYWRlZH0pO2lmKGk9YShlKSxqLmxvYWQpe3ZhciBmPWkubGVuZ3RoO2oubG9hZC5jYWxsKGIsZixqKX19KS5hdHRyKFwic3JjXCIsYy5hdHRyKFwiZGF0YS1cIitqLmRhdGFfYXR0cmlidXRlKSl9fSksMCE9PWouZXZlbnQuaW5kZXhPZihcInNjcm9sbFwiKSYmYy5iaW5kKGouZXZlbnQsZnVuY3Rpb24oKXtiLmxvYWRlZHx8Yy50cmlnZ2VyKFwiYXBwZWFyXCIpfSl9KSxlLmJpbmQoXCJyZXNpemVcIixmdW5jdGlvbigpe2coKX0pLC8oPzppcGhvbmV8aXBvZHxpcGFkKS4qb3MgNS9naS50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKSYmZS5iaW5kKFwicGFnZXNob3dcIixmdW5jdGlvbihiKXtiLm9yaWdpbmFsRXZlbnQmJmIub3JpZ2luYWxFdmVudC5wZXJzaXN0ZWQmJmkuZWFjaChmdW5jdGlvbigpe2EodGhpcykudHJpZ2dlcihcImFwcGVhclwiKX0pfSksYShjKS5yZWFkeShmdW5jdGlvbigpe2coKX0pLHRoaXN9LGEuYmVsb3d0aGVmb2xkPWZ1bmN0aW9uKGMsZil7dmFyIGc7cmV0dXJuIGc9Zi5jb250YWluZXI9PT1kfHxmLmNvbnRhaW5lcj09PWI/KGIuaW5uZXJIZWlnaHQ/Yi5pbm5lckhlaWdodDplLmhlaWdodCgpKStlLnNjcm9sbFRvcCgpOmEoZi5jb250YWluZXIpLm9mZnNldCgpLnRvcCthKGYuY29udGFpbmVyKS5oZWlnaHQoKSxnPD1hKGMpLm9mZnNldCgpLnRvcC1mLnRocmVzaG9sZH0sYS5yaWdodG9mZm9sZD1mdW5jdGlvbihjLGYpe3ZhciBnO3JldHVybiBnPWYuY29udGFpbmVyPT09ZHx8Zi5jb250YWluZXI9PT1iP2Uud2lkdGgoKStlLnNjcm9sbExlZnQoKTphKGYuY29udGFpbmVyKS5vZmZzZXQoKS5sZWZ0K2EoZi5jb250YWluZXIpLndpZHRoKCksZzw9YShjKS5vZmZzZXQoKS5sZWZ0LWYudGhyZXNob2xkfSxhLmFib3ZldGhldG9wPWZ1bmN0aW9uKGMsZil7dmFyIGc7cmV0dXJuIGc9Zi5jb250YWluZXI9PT1kfHxmLmNvbnRhaW5lcj09PWI/ZS5zY3JvbGxUb3AoKTphKGYuY29udGFpbmVyKS5vZmZzZXQoKS50b3AsZz49YShjKS5vZmZzZXQoKS50b3ArZi50aHJlc2hvbGQrYShjKS5oZWlnaHQoKX0sYS5sZWZ0b2ZiZWdpbj1mdW5jdGlvbihjLGYpe3ZhciBnO3JldHVybiBnPWYuY29udGFpbmVyPT09ZHx8Zi5jb250YWluZXI9PT1iP2Uuc2Nyb2xsTGVmdCgpOmEoZi5jb250YWluZXIpLm9mZnNldCgpLmxlZnQsZz49YShjKS5vZmZzZXQoKS5sZWZ0K2YudGhyZXNob2xkK2EoYykud2lkdGgoKX0sYS5pbnZpZXdwb3J0PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIShhLnJpZ2h0b2Zmb2xkKGIsYyl8fGEubGVmdG9mYmVnaW4oYixjKXx8YS5iZWxvd3RoZWZvbGQoYixjKXx8YS5hYm92ZXRoZXRvcChiLGMpKX0sYS5leHRlbmQoYS5leHByW1wiOlwiXSx7XCJiZWxvdy10aGUtZm9sZFwiOmZ1bmN0aW9uKGIpe3JldHVybiBhLmJlbG93dGhlZm9sZChiLHt0aHJlc2hvbGQ6MH0pfSxcImFib3ZlLXRoZS10b3BcIjpmdW5jdGlvbihiKXtyZXR1cm4hYS5iZWxvd3RoZWZvbGQoYix7dGhyZXNob2xkOjB9KX0sXCJyaWdodC1vZi1zY3JlZW5cIjpmdW5jdGlvbihiKXtyZXR1cm4gYS5yaWdodG9mZm9sZChiLHt0aHJlc2hvbGQ6MH0pfSxcImxlZnQtb2Ytc2NyZWVuXCI6ZnVuY3Rpb24oYil7cmV0dXJuIWEucmlnaHRvZmZvbGQoYix7dGhyZXNob2xkOjB9KX0sXCJpbi12aWV3cG9ydFwiOmZ1bmN0aW9uKGIpe3JldHVybiBhLmludmlld3BvcnQoYix7dGhyZXNob2xkOjB9KX0sXCJhYm92ZS10aGUtZm9sZFwiOmZ1bmN0aW9uKGIpe3JldHVybiFhLmJlbG93dGhlZm9sZChiLHt0aHJlc2hvbGQ6MH0pfSxcInJpZ2h0LW9mLWZvbGRcIjpmdW5jdGlvbihiKXtyZXR1cm4gYS5yaWdodG9mZm9sZChiLHt0aHJlc2hvbGQ6MH0pfSxcImxlZnQtb2YtZm9sZFwiOmZ1bmN0aW9uKGIpe3JldHVybiFhLnJpZ2h0b2Zmb2xkKGIse3RocmVzaG9sZDowfSl9fSl9KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpOyIsInZhciBzY3JvbGx0b3RvcD17XHJcblxyXG4gICAgLy9zdGFydGxpbmU6IEludGVnZXIuIE51bWJlciBvZiBwaXhlbHMgZnJvbSB0b3Agb2YgZG9jIHNjcm9sbGJhciBpcyBzY3JvbGxlZCBiZWZvcmUgc2hvd2luZyBjb250cm9sXHJcblxyXG4gICAgLy9zY3JvbGx0bzogS2V5d29yZCAoSW50ZWdlciwgb3IgXCJTY3JvbGxfdG9fRWxlbWVudF9JRFwiKS4gSG93IGZhciB0byBzY3JvbGwgZG9jdW1lbnQgdXAgd2hlbiBjb250cm9sIGlzIGNsaWNrZWQgb24gKDA9dG9wKS5cclxuXHJcbiAgICBzZXR0aW5nOiB7c3RhcnRsaW5lOjEwMCwgc2Nyb2xsdG86IDAsIHNjcm9sbGR1cmF0aW9uOjEwMDAsIGZhZGVkdXJhdGlvbjpbNTAwLCAxMDBdfSxcclxuXHJcbiAgICBjb250cm9sSFRNTDogXCI8ZGl2IGlkPSd0b1RvcCcgY2xhc3M9J2ljb24tdXAnPjwvZGl2PlwiLCAvL0hUTUwgZm9yIGNvbnRyb2wsIHdoaWNoIGlzIGF1dG8gd3JhcHBlZCBpbiBESVYgdy8gSUQ9XCJ0b3Bjb250cm9sXCJcclxuXHJcbiAgICBjb250cm9sYXR0cnM6IHtvZmZzZXR4OjUsIG9mZnNldHk6NX0sIC8vb2Zmc2V0IG9mIGNvbnRyb2wgcmVsYXRpdmUgdG8gcmlnaHQvIGJvdHRvbSBvZiB3aW5kb3cgY29ybmVyXHJcblxyXG4gICAgYW5jaG9ya2V5d29yZDogJyN0b3AnLCAvL0VudGVyIGhyZWYgdmFsdWUgb2YgSFRNTCBhbmNob3JzIG9uIHRoZSBwYWdlIHRoYXQgc2hvdWxkIGFsc28gYWN0IGFzIFwiU2Nyb2xsIFVwXCIgbGlua3NcclxuXHJcbiBzdGF0ZToge2lzdmlzaWJsZTpmYWxzZSwgc2hvdWxkdmlzaWJsZTpmYWxzZX0sXHJcblxyXG5cclxuICAgIHNjcm9sbHVwOmZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jc3NmaXhlZHN1cHBvcnQpIC8vaWYgY29udHJvbCBpcyBwb3NpdGlvbmVkIHVzaW5nIEphdmFTY3JpcHRcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJGNvbnRyb2wuY3NzKHtvcGFjaXR5OjB9KSAvL2hpZGUgY29udHJvbCBpbW1lZGlhdGVseSBhZnRlciBjbGlja2luZyBpdFxyXG5cclxuICAgICAgICB2YXIgZGVzdD1pc05hTih0aGlzLnNldHRpbmcuc2Nyb2xsdG8pPyB0aGlzLnNldHRpbmcuc2Nyb2xsdG8gOiBwYXJzZUludCh0aGlzLnNldHRpbmcuc2Nyb2xsdG8pXHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgZGVzdD09XCJzdHJpbmdcIiAmJiBqUXVlcnkoJyMnK2Rlc3QpLmxlbmd0aD09MSkgLy9jaGVjayBlbGVtZW50IHNldCBieSBzdHJpbmcgZXhpc3RzXHJcblxyXG4gICAgICAgICAgICBkZXN0PWpRdWVyeSgnIycrZGVzdCkub2Zmc2V0KCkudG9wXHJcblxyXG4gICAgICAgIGVsc2VcclxuXHJcbiAgICAgICAgICAgIGRlc3Q9MFxyXG5cclxuICAgICAgICB0aGlzLiRib2R5LmFuaW1hdGUoe3Njcm9sbFRvcDogZGVzdH0sIHRoaXMuc2V0dGluZy5zY3JvbGxkdXJhdGlvbik7XHJcblxyXG4gICAgfSxcclxuXHJcblxyXG4gICAga2VlcGZpeGVkOmZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgIHZhciAkd2luZG93PWpRdWVyeSh3aW5kb3cpXHJcblxyXG4gICAgICAgIHZhciBjb250cm9seD0kd2luZG93LnNjcm9sbExlZnQoKSArICR3aW5kb3cud2lkdGgoKSAtIHRoaXMuJGNvbnRyb2wud2lkdGgoKSAtIHRoaXMuY29udHJvbGF0dHJzLm9mZnNldHhcclxuXHJcbiAgICAgICAgdmFyIGNvbnRyb2x5PSR3aW5kb3cuc2Nyb2xsVG9wKCkgKyAkd2luZG93LmhlaWdodCgpIC0gdGhpcy4kY29udHJvbC5oZWlnaHQoKSAtIHRoaXMuY29udHJvbGF0dHJzLm9mZnNldHlcclxuXHJcbiAgICAgICAgdGhpcy4kY29udHJvbC5jc3Moe2xlZnQ6Y29udHJvbHgrJ3B4JywgdG9wOmNvbnRyb2x5KydweCd9KVxyXG5cclxuICAgIH0sXHJcblxyXG5cclxuICAgIHRvZ2dsZWNvbnRyb2w6ZnVuY3Rpb24oKXtcclxuXHJcblxyXG5cclxuICAgICAgICB2YXIgc2Nyb2xsdG9wPWpRdWVyeSh3aW5kb3cpLnNjcm9sbFRvcCgpXHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jc3NmaXhlZHN1cHBvcnQpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmtlZXBmaXhlZCgpXHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUuc2hvdWxkdmlzaWJsZT0oc2Nyb2xsdG9wPj10aGlzLnNldHRpbmcuc3RhcnRsaW5lKT8gdHJ1ZSA6IGZhbHNlXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3VsZHZpc2libGUgJiYgIXRoaXMuc3RhdGUuaXN2aXNpYmxlKXtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJGNvbnRyb2wuc3RvcCgpLmFuaW1hdGUoe29wYWNpdHk6MX0sIHRoaXMuc2V0dGluZy5mYWRlZHVyYXRpb25bMF0pXHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmlzdmlzaWJsZT10cnVlXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5zaG91bGR2aXNpYmxlPT1mYWxzZSAmJiB0aGlzLnN0YXRlLmlzdmlzaWJsZSl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRjb250cm9sLnN0b3AoKS5hbmltYXRlKHtvcGFjaXR5OjB9LCB0aGlzLnNldHRpbmcuZmFkZWR1cmF0aW9uWzFdKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc3Zpc2libGU9ZmFsc2VcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0OmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgalF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKXtcclxuICAgICAgICAgICAgdmFyIG1haW5vYmo9c2Nyb2xsdG90b3BcclxuICAgICAgICAgICAgdmFyIGllYnJ3cz1kb2N1bWVudC5hbGxcclxuICAgICAgICAgICAgbWFpbm9iai5jc3NmaXhlZHN1cHBvcnQ9IWllYnJ3cyB8fCBpZWJyd3MgJiYgZG9jdW1lbnQuY29tcGF0TW9kZT09XCJDU1MxQ29tcGF0XCIgJiYgd2luZG93LlhNTEh0dHBSZXF1ZXN0IC8vbm90IElFIG9yIElFNysgYnJvd3NlcnMgaW4gc3RhbmRhcmRzIG1vZGVcclxuICAgICAgICAgICAgbWFpbm9iai4kYm9keT0od2luZG93Lm9wZXJhKT8gKGRvY3VtZW50LmNvbXBhdE1vZGU9PVwiQ1NTMUNvbXBhdFwiPyAkKCdodG1sJykgOiAkKCdib2R5JykpIDogJCgnaHRtbCxib2R5JylcclxuICAgICAgICAgICAgbWFpbm9iai4kY29udHJvbD0kKCc8ZGl2IGlkPVwidG9wY29udHJvbFwiPicrbWFpbm9iai5jb250cm9sSFRNTCsnPC9kaXY+JylcclxuICAgICAgICAgICAgICAgIC5jc3Moe3Bvc2l0aW9uOm1haW5vYmouY3NzZml4ZWRzdXBwb3J0PyAnZml4ZWQnIDogJ2Fic29sdXRlJywgYm90dG9tOm1haW5vYmouY29udHJvbGF0dHJzLm9mZnNldHksIHJpZ2h0Om1haW5vYmouY29udHJvbGF0dHJzLm9mZnNldHgsIG9wYWNpdHk6MCxjdXJzb3I6J3BvaW50ZXInfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKHt0aXRsZTonU2Nyb2xsIHRvIFRvcCd9KVxyXG4gICAgICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uKCl7bWFpbm9iai5zY3JvbGx1cCgpOyByZXR1cm4gZmFsc2V9KVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKCdib2R5JylcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFsbCAmJiAhd2luZG93LlhNTEh0dHBSZXF1ZXN0ICYmIG1haW5vYmouJGNvbnRyb2wudGV4dCgpIT0nJykgLy9sb29zZSBjaGVjayBmb3IgSUU2IGFuZCBiZWxvdywgcGx1cyB3aGV0aGVyIGNvbnRyb2wgY29udGFpbnMgYW55IHRleHRcclxuICAgICAgICAgICAgICAgIG1haW5vYmouJGNvbnRyb2wuY3NzKHt3aWR0aDptYWlub2JqLiRjb250cm9sLndpZHRoKCl9KSAvL0lFNi0gc2VlbXMgdG8gcmVxdWlyZSBhbiBleHBsaWNpdCB3aWR0aCBvbiBhIERJViBjb250YWluaW5nIHRleHRcclxuICAgICAgICAgICAgbWFpbm9iai50b2dnbGVjb250cm9sKClcclxuXHJcbiQoJ2FbaHJlZj1cIicgKyBtYWlub2JqLmFuY2hvcmtleXdvcmQgKydcIl0nKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgbWFpbm9iai5zY3JvbGx1cCgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgJCh3aW5kb3cpLmJpbmQoJ3Njcm9sbCByZXNpemUnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIG1haW5vYmoudG9nZ2xlY29udHJvbCgpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5zY3JvbGx0b3RvcC5pbml0KCk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==